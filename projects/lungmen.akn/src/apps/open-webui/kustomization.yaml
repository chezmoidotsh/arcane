---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: open-webui

helmCharts:
  # OpenWebUI official Helm chart
  - name: open-webui
    releaseName: open-webui
    repo: https://helm.openwebui.com
    version: 12.0.1
    valuesFile: open-webui.helmvalues/default.yaml
    # additionalValuesFiles:
    #   - open-webui.helmvalues/hardened.yaml

labels:
  - pairs:
      app.kubernetes.io/name: open-webui
      app.kubernetes.io/instance: open-webui
    includeTemplates: true
    includeSelectors: true

resources:
  - open-webui.configuration.externalsecret.yaml
  - firecrawl/firecrawl.configuration.externalsecret.yaml
  - open-webui.httproute.yaml
  - firecrawl/redis.yaml
  - firecrawl/playwright.yaml
  - firecrawl/searxng.yaml
  - firecrawl/firecrawl.yaml

  # - security/

images:
  # renovate: datasource=docker depName=ghcr.io/open-webui/open-webui
  - name: ghcr.io/open-webui/open-webui
    newTag: v0.8.0
