apiVersion: v1
kind: ConfigMap
metadata:
  name: librechat-configyaml
data:
  librechat.yaml: |
    # Configuration LibreChat (librechat.yaml)
    # https://www.librechat.ai/docs/configuration/librechat_yaml

    version: 1.3.4
    cache: true

    # ==========================================
    # Interface
    # ==========================================

    interface:
      customWelcome: "Bienvenue sur LibreChat — votre assistant IA."
      webSearch: false
      fileSearch: true
      endpointsMenu: true
      modelSelect: true
      parameters: true
      sidePanel: true
      presets: true
      prompts:
        use: true
        create: true
        share: false
        public: false
      bookmarks: true
      multiConvo: true
      agents:
        use: true
        create: true
        share: false
        public: false
      fileCitations: true

    # ==========================================
    # Inscription
    # ==========================================

    registration:
      socialLogins: []

    # ==========================================
    # Actions (Agent OpenAPI)
    # ==========================================

    actions:
      allowedDomains:
        - "*.cluster.local"

    # ==========================================
    # MCP
    # ==========================================

    mcpSettings:
      allowedDomains:
        - "*.cluster.local"

    # ==========================================
    # Endpoints (modèles LLM)
    # ==========================================

    endpoints:
      custom:
        - name: "Mistral"
          apiKey: "dummy"
          baseURL: "http://192.168.10.30:1234/v1"
          models:
            default:
              - unsloth/ministral-3-3b-instruct-2512
              - ministral-3-3b-reasoning-2512
              - ministral-3-8b-instruct-2512
              - ministral-3-14b-instruct-2512
              - mistralai/ministral-3-14b-reasoning
            fetch: false
          titleConvo: true
          titleModel: unsloth/ministral-3-3b-instruct-2512
          titlePrompt: |
            Write a concise title (5 words max, no punctuation) for this conversation in its language.

            {convo}
          summary: true
          summaryModel: unsloth/ministral-3-3b-instruct-2512
          modelDisplayLabel: Mistral
          iconURL: https://mistral.ai/static/branding/m/m-rainbow.png

        - name: "Google"
          apiKey: "dummy"
          baseURL: "http://192.168.10.30:1234/v1"
          models:
            default:
              - gemma-3-4b-it
              - gemma-3-12b-it
              - gemma-3-27b-it
              - medgemma-1.5-4b-it
              - medgemma-27b-it
              - medgemma-27b-text-it
            fetch: false
          titleConvo: true
          titleModel: unsloth/ministral-3-3b-instruct-2512
          titlePrompt: |
            Write a concise title (5 words max, no punctuation) for this conversation in its language.

            {convo}
          summary: true
          summaryModel: unsloth/ministral-3-3b-instruct-2512
          modelDisplayLabel: Google
          iconURL: https://www.gstatic.com/marketing-cms/assets/images/d5/dc/cfe9ce8b4425b410b49b7f2dd3f3/g.webp=s48-fcrop64=1,00000000ffffffff-rw

        - name: OpenAI
          apiKey: "dummy"
          baseURL: "http://192.168.10.30:1234/v1"
          models:
            default:
              - openai/gpt-oss-20b
            fetch: false
          titleConvo: true
          titleModel: unsloth/ministral-3-3b-instruct-2512
          titlePrompt: |
            Write a concise title (5 words max, no punctuation) for this conversation in its language.

            {convo}
          summary: true
          summaryModel: unsloth/ministral-3-3b-instruct-2512
          modelDisplayLabel: OpenAI
          iconURL: https://chatgpt.com/cdn/assets/favicon-l4nq08hd.svg
