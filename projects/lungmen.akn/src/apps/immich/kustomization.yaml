---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: immich

labels:
  - pairs:
      app.kubernetes.io/name: immich
      app.kubernetes.io/component: application
    includeTemplates: true
  - pairs:
      app.kubernetes.io/instance: immich
    includeTemplates: true
    includeSelectors: true
  - pairs:
      # renovate: datasource=helm depName=immich registryUrl=https://immich-app.github.io/immich-charts
      app.kubernetes.io/version: latest
    includeTemplates: true

resources:
  - immich.configuration.externalsecret.yaml
  - immich.httproute.yaml
  - immich.postgresql-backup.yaml
  - immich.postgresql-objectstore.yaml
  - immich.postgresql.yaml
  - immich.redis.yaml
  - immich.server.yaml
  - immich.smb-storage.yaml

  - security/
