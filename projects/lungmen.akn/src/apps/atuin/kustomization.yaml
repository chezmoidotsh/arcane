---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: atuin

labels:
  - pairs:
      app.kubernetes.io/name: atuin
    includeTemplates: true
    includeSelectors: true
  - pairs:
      app.kubernetes.io/instance: atuin
    includeTemplates: true
    includeSelectors: true
  - pairs:
      # renovate: datasource=docker depName=ghcr.io/atuinsh/atuin
      app.kubernetes.io/version: v18.10.0
    includeTemplates: true

resources:
  - atuin.deployment.yaml
  - atuin.httproute.yaml
  - atuin.ingress.yaml
  - atuin.postgresql-backup.yaml
  - atuin.postgresql-objectstore.yaml
  - atuin.postgresql.yaml
  - atuin.storage.yaml

  - security/

images:
  # renovate: datasource=docker depName=ghcr.io/atuinsh/atuin
  - name: ghcr.io/atuinsh/atuin
    newName: oci.chezmoi.sh/ghcr.io/atuinsh/atuin
    newTag: v18.10.0@sha256:4a29feda6f352581ece849807445fe1f50f2074b4643b7bfe62b27e23705b068
