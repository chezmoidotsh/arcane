---
# =============================================================================
# Role: caddy â€” Handlers
# =============================================================================

- name: Reload Caddy
  ansible.builtin.command: launchctl kickstart -p gui/{{ lookup('pipe', 'id -u') }}/sh.chezmoi.shodan.caddy
  # -p is used here if supported, otherwise kickstart restarts it
  ignore_errors: true
  notify: Restart Caddy

- name: Restart Caddy
  ansible.builtin.command: launchctl kickstart -k gui/{{ lookup('pipe', 'id -u') }}/sh.chezmoi.shodan.caddy
