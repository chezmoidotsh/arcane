apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # Local cluster vault (cluster where Vault is hosted)
  - local.xrd.yaml
  - local.x.v1alpha1.openbao.yaml
  # Remote cluster vault (clusters via direct network access)
  - remote.xrd.yaml
  - remote.x.v1alpha1.openbao.yaml
  # Tailscaled cluster vault (clusters via Tailscale proxy)
  - tailscaled.xrd.yaml
  - tailscaled.x.v1alpha1.openbao.yaml

patches:
  - path: local.xrd.v1alpha1.yaml
  - path: remote.xrd.v1alpha1.yaml
  - path: tailscaled.xrd.v1alpha1.yaml

commonLabels:
  app.kubernetes.io/name: clustervault
  app.kubernetes.io/component: crossplane-xrd
  app.kubernetes.io/part-of: vault-integration
  catalog.chezmoi.sh/type: crossplane
  catalog.chezmoi.sh/category: vault
